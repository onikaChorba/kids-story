import { Layout, Menu, Button, Flex, Dropdown, Drawer } from 'antd';
import Icon, { PhoneFilled, DownOutlined, MenuOutlined } from '@ant-design/icons';
import type { GetProps } from 'antd';
import logo from '../../assets/img/logo.png';
import { Link } from 'react-router-dom';
import React, { useState } from 'react';
import './index.css'
const { Header } = Layout;

type CustomIconComponentProps = GetProps<typeof Icon>;

const VkSVG: React.FC = () => (
  <svg width="30" height="18" viewBox="0 0 30 18" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fillRule="evenodd" clipRule="evenodd" d="M9.81963 1.24186C10.236 1.277 10.5664 1.41647 10.85 1.6026C11.1834 1.82146 11.2732 2.01379 11.401 2.44898C11.816 3.86217 11.6456 5.53386 11.4951 6.97852C11.4592 7.3229 11.4016 7.59276 11.2823 7.87505C11.1621 8.15956 11.0958 8.26309 10.9204 8.32778C10.2901 8.56036 9.66767 7.81641 9.33919 7.40645C8.87809 6.83087 8.35495 5.88385 8.00975 5.1831C7.85851 4.87614 7.72995 4.67694 7.58543 4.38387L6.44968 1.96425C6.30477 1.63378 6.25818 1.41161 6.02443 1.16596C5.49965 0.614416 5.09134 0.773833 4.1589 0.773622C3.70152 0.773481 0.978577 0.737116 0.656117 0.794589C0.478526 0.826268 0.354347 0.877996 0.236776 0.954991C0.0958367 1.04728 0.0243766 1.17104 0 1.31238V1.56761C0.0599157 1.9961 0.376776 2.49726 0.495494 2.78843C1.25983 4.66363 2.59974 7.09488 3.68591 8.92077C4.50946 10.3052 5.78341 12.0356 6.79808 13.2593C7.39887 13.9838 7.25595 13.7459 7.7262 14.1919C8.0569 14.5055 8.37414 14.7535 8.75631 15.0211C11.6227 17.0285 12.6939 17.0459 16.0002 17.0459C17.473 17.0459 17.2636 16.122 17.3316 15.2342C17.3657 14.7895 17.4749 14.3097 17.6354 13.9616C17.7205 13.7771 17.8243 13.6018 17.9487 13.4597C18.5453 12.7781 19.145 13.2391 19.6913 13.7738L20.7701 14.9634C21.1913 15.5153 22.2041 16.5093 22.8741 16.8115C24.0277 17.3319 25.3242 17.0396 26.4548 17.0455C27.5945 17.0514 29.5744 17.2571 29.5744 16.1678C29.5744 15.4814 29.2278 15.1225 28.9639 14.6793C28.4644 13.8405 26.3968 11.7375 25.6047 11.0594C25.4148 10.8968 24.7801 10.1939 24.7801 9.7292C24.7801 8.84913 26.298 7.09706 26.9337 6.23376C27.661 5.24607 31.2728 0.773622 28.5924 0.773622L23.5337 0.807452C23.2663 0.77595 23.0717 0.812386 22.8871 0.9625C22.7076 1.10846 22.6196 1.26241 22.5276 1.4762C22.0663 2.54807 21.7925 3.36302 21.1655 4.42739C21.0494 4.62426 20.9961 4.7569 20.8775 4.95504L19.8705 6.5686C19.75 6.753 19.64 6.89268 19.5128 7.08413C19.2941 7.41329 18.4297 8.3244 18.1374 8.3244C17.3021 8.3244 17.2705 7.05326 17.271 6.15867L17.3789 1.71786C17.2606 0.56177 16.8891 0.293221 15.9438 0.128342C14.7678 -0.0767791 12.1619 -0.024556 11.0476 0.203505C10.5675 0.301749 9.83232 0.664066 9.81963 1.24186Z" fill="#EA5D4A" />
  </svg>
);

const TelegramSVG: React.FC = () => (
  <svg width="22" height="19" viewBox="0 0 22 19" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path fillRule="evenodd" clipRule="evenodd" d="M11.1555 13.59C11.0895 13.635 11.0535 13.698 10.9845 13.746C10.9635 13.761 10.9575 13.761 10.9365 13.779C10.9245 13.788 10.9065 13.809 10.8945 13.821L10.2644 14.4031C10.2253 14.4361 10.2133 14.4391 10.1743 14.4782L8.65004 15.8734C8.61404 15.9094 8.59903 15.9124 8.56003 15.9454C8.46701 16.0294 8.38899 16.1285 8.28697 16.1975C8.30798 15.9364 8.416 15.3573 8.46101 15.0933C8.54802 14.5712 8.62904 13.9441 8.72206 13.434C8.74306 13.3139 8.86008 12.4198 8.90509 12.3417L10.5794 10.7814C10.6574 10.7244 10.7384 10.6194 10.8225 10.5504L12.6048 8.89109C12.6228 8.87609 12.6348 8.86408 12.6468 8.85208L13.2349 8.30598C13.3459 8.19195 13.451 8.10494 13.562 7.99392L13.727 7.84689C13.784 7.78988 13.832 7.73287 13.895 7.68486L14.1321 7.46582C14.2251 7.3878 14.2971 7.29778 14.3961 7.22277L15.2993 6.37061C15.3383 6.3376 15.3503 6.3346 15.3893 6.29559L16.3075 5.44343C16.3405 5.41643 16.3615 5.39242 16.3915 5.36242C16.4215 5.33241 16.4395 5.30841 16.4725 5.2784C16.5956 5.16738 16.7846 5.01435 16.8776 4.88232C17.0456 4.65128 16.9016 4.2552 16.2955 4.66028C15.9894 4.86732 15.5964 5.09836 15.2693 5.2904L15.1583 5.35941C15.1553 5.35941 15.1493 5.36242 15.1463 5.36542C15.1253 5.37742 15.1253 5.38042 15.1073 5.39242C15.0083 5.45543 14.8972 5.52445 14.7952 5.58746C14.6872 5.65047 14.5882 5.71048 14.4802 5.77949C14.3721 5.85151 14.2611 5.91152 14.1561 5.98053L13.463 6.41862C13.43 6.43962 13.4119 6.44562 13.3789 6.46663C13.3429 6.48463 13.3279 6.49363 13.2949 6.51463L12.2657 7.15676C12.1517 7.21677 12.0617 7.28278 11.9507 7.35179L11.0775 7.8889C11.0475 7.9099 11.0355 7.9189 10.9995 7.93991L9.58922 8.81007C9.53221 8.84908 9.4872 8.88209 9.43319 8.91509L8.99511 9.18514C8.9681 9.20315 8.97711 9.19715 8.9561 9.20915L8.20296 9.66823C7.76488 9.93529 7.33879 10.2173 6.89771 10.4784C6.8317 10.5174 6.80169 10.5414 6.73268 10.5774C6.67867 10.6074 6.61266 10.6404 6.57965 10.6854C6.47763 10.6194 5.86551 10.4394 5.70048 10.3854L3.03297 9.4792C2.82894 9.41019 2.6459 9.35017 2.44186 9.28416L2.17181 9.19415C2.0998 9.17014 1.93477 9.10413 1.85675 9.09513C1.91376 9.02011 2.20782 8.9391 2.31884 8.88509L2.94596 8.62404C3.12599 8.54602 3.30603 8.46501 3.48306 8.39299C3.6721 8.31498 3.85513 8.24296 4.03817 8.16195L4.85732 7.81388C5.03736 7.74187 5.21439 7.64585 5.40343 7.58284C5.7905 7.45381 7.14676 6.8447 7.57884 6.66766C7.66586 6.63166 7.75887 6.59265 7.85489 6.54764C8.30798 6.3466 8.77607 6.17257 9.23215 5.97753L9.64623 5.8005C10.1443 5.57546 10.6544 5.38042 11.1555 5.16138L13.904 4.00616C14.3451 3.82012 14.7562 3.61908 15.2063 3.45405L15.4163 3.37004C15.4643 3.34903 15.5003 3.33403 15.5544 3.31302C15.6534 3.27402 15.7404 3.23201 15.8304 3.196L18.858 1.92676C19.017 1.85775 19.2601 1.73772 19.4191 1.70172C19.4191 1.88175 19.188 2.95296 19.149 3.166C19.125 3.29202 19.101 3.40604 19.077 3.52307C19.053 3.64309 19.035 3.76911 19.005 3.88913L18.933 4.28221C18.93 4.31822 18.924 4.35122 18.918 4.38123L17.6097 11.0605C17.6037 11.0875 17.5977 11.1055 17.5917 11.1235C17.5887 11.1355 17.5857 11.1775 17.5797 11.2105L17.5527 11.3606C17.5347 11.4896 17.5047 11.6036 17.4807 11.7326C17.3847 12.2127 17.2887 12.7108 17.1897 13.1969C17.1567 13.3619 16.4455 17.0676 16.4005 17.1787C16.2955 17.4247 15.9924 17.2927 15.8574 17.1817C15.4283 16.8306 14.9632 16.5155 14.5342 16.1615C14.2461 15.9214 13.934 15.6964 13.634 15.4713C13.43 15.3183 12.9439 14.9252 12.7908 14.8232L12.5478 14.6402C12.5448 14.6372 12.5418 14.6342 12.5388 14.6342L12.4698 14.5862C12.4458 14.5652 12.4338 14.5562 12.4068 14.5352C12.3167 14.4692 12.2417 14.4061 12.1547 14.3431L11.5486 13.869C11.5246 13.851 11.5036 13.839 11.4796 13.821L11.2335 13.626C11.2005 13.602 11.2005 13.599 11.1555 13.59ZM5.2534 11.9487C5.2564 11.9997 5.2654 12.0117 5.2774 12.0537L5.48444 12.7498C5.52945 12.8848 5.56846 13.0379 5.61647 13.1759L5.88052 14.0431C6.12356 14.7632 6.3156 15.4893 6.55264 16.2065C6.60365 16.3535 6.63366 16.4885 6.68167 16.6356C6.78969 16.9506 6.8497 17.1487 7.00873 17.4397L7.11675 17.6107C7.20677 17.7218 7.28778 17.8178 7.39881 17.9018C7.46482 17.9498 7.49182 17.9678 7.57584 18.0038C7.95391 18.1779 8.34399 18.1328 8.71606 17.9738C8.9351 17.8778 9.23215 17.5537 9.4542 17.3467L9.63423 17.1847C9.67024 17.1517 9.68824 17.1457 9.72425 17.1097C9.74225 17.0947 9.74825 17.0886 9.76926 17.0706L9.78426 17.0556C9.78726 17.0556 9.79026 17.0496 9.79326 17.0496L10.0993 16.7796C10.2794 16.6296 10.4414 16.4525 10.6184 16.2995C10.7414 16.1915 10.8495 16.0715 10.9785 15.9694C11.0145 15.9394 11.0355 15.9154 11.0685 15.8794C11.1075 15.8404 11.1165 15.8374 11.1585 15.8044C11.1975 15.7744 11.2125 15.7504 11.2545 15.7204C11.5396 15.9124 11.9417 16.2275 12.2327 16.4645C12.2867 16.5095 12.3317 16.5335 12.3828 16.5786L13.652 17.5537C13.7 17.5957 13.742 17.6197 13.79 17.6618L13.928 17.7698C13.9821 17.8088 14.0241 17.8418 14.0751 17.8838C14.1231 17.9198 14.1711 17.9498 14.2161 17.9888C14.4501 18.1899 14.7142 18.3519 14.9512 18.5499L15.0623 18.6369C15.2753 18.814 15.7074 18.934 16.0254 18.934C16.5535 18.934 16.8926 18.871 17.3097 18.5799L17.6518 18.2499C17.8138 18.0818 17.9638 17.7908 18.0118 17.5597L18.4169 15.5043C18.4949 15.1113 18.5639 14.7332 18.6419 14.3371C18.6629 14.2351 18.678 14.1421 18.699 14.0491C18.711 13.9861 18.702 13.9981 18.72 13.923L18.849 13.2329C19.2421 11.2855 19.6141 9.29616 20.0072 7.35479C20.0252 7.25878 20.0462 7.14776 20.0552 7.08474C20.0642 7.02473 20.0762 6.98872 20.0822 6.95272L20.1752 6.46663C20.1782 6.46362 20.1782 6.46062 20.1782 6.45762L21.0124 2.19381C21.1324 1.5877 21.1354 1.11961 20.7994 0.615511L20.6613 0.441478C20.5113 0.276446 20.3013 0.165425 20.0852 0.0844096C19.4191 -0.164638 18.735 0.19243 18.1318 0.444478L16.7366 1.03559C16.6886 1.05659 16.6676 1.0626 16.6166 1.0806C16.5806 1.0926 16.5505 1.11061 16.5145 1.12561L15.9564 1.35365C15.8094 1.41366 15.6714 1.47668 15.5214 1.54269L13.0969 2.55988C13.0219 2.59289 12.9439 2.61989 12.8778 2.6529L11.5636 3.208C11.4136 3.27402 11.2695 3.33103 11.1165 3.40004L10.2373 3.76611C10.1893 3.78411 10.1863 3.79012 10.1323 3.81112C10.0783 3.82912 10.0663 3.83812 10.0183 3.85913L5.54145 5.74649C5.49644 5.76749 5.47544 5.77649 5.42743 5.7945L3.90914 6.43962C3.87614 6.45462 3.84013 6.46663 3.80112 6.48163C3.77112 6.49063 3.76511 6.49363 3.74111 6.50263L2.80793 6.89571C2.6579 6.95872 2.51988 7.01873 2.36685 7.08174L1.27764 7.54683C1.08861 7.62785 0.929575 7.71486 0.755542 7.81388L0.656523 7.87989C0.407476 8.05993 0.22144 8.27897 0.0984169 8.56703C-0.114624 9.06812 0.0414061 9.56322 0.344464 9.97129C0.5365 10.2293 0.947579 10.5024 1.25964 10.6104C1.35266 10.6434 1.41567 10.6614 1.50268 10.6974L3.36304 11.3276C3.6751 11.4326 3.98416 11.5556 4.30222 11.6366C4.45225 11.6756 4.61728 11.7386 4.77031 11.7926C4.88433 11.8316 5.14238 11.9397 5.2534 11.9487Z" fill="#EA5D4A" />
  </svg>
)

const VKIcon: React.FC<Partial<CustomIconComponentProps>> = (props) => (
  <Icon component={VkSVG} {...props} />
);

const TelegramIcon: React.FC<Partial<CustomIconComponentProps>> = (props) => (
  <Icon component={TelegramSVG} {...props} />
);


export const HeaderCustom = () => {
  const [open, setOpen] = useState(false);

  const dropdownItemsAbout = [
    { key: 'center', label: <Link to="/about-center">About the Center</Link> },
    { key: 'documents', label: <Link to="/documents">Documents</Link> },
    { key: 'parents', label: <Link to="/for-parents">For Parents</Link> },
    { key: 'meals', label: <Link to="/meals">Meals</Link> },
    { key: 'news', label: <Link to="/news">News</Link> },
    { key: 'tour3d', label: <Link to="/3d-tour">3D Tour</Link> },
    { key: 'reviews', label: <Link to="/reviews">Reviews</Link> },
  ];

  const dropdownItemsContacts = [
    { key: 'phone', label: 'Phone' },
    { key: 'email', label: 'Email' },
  ];

  const dropdownItemsSchedule = [
    { key: 'morning', label: 'Morning' },
    { key: 'evening', label: 'Evening' },
  ];

  const items = [
    {
      key: "about",
      label: (
        <Dropdown menu={{ items: dropdownItemsAbout }} placement="bottom">
          <Button icon={<DownOutlined />} iconPlacement="end" type="text">
            <p>About us</p>
          </Button>
        </Dropdown>
      ),
    },
    {
      key: "contactsDropdown",
      label: (
        <Dropdown menu={{ items: dropdownItemsContacts }} placement="bottom">
          <Button icon={<DownOutlined />} iconPlacement="end" type="text">
            <Link to="/contact">Contacts</Link>
          </Button>
        </Dropdown>
      ),
    },
    {
      key: "schedule",
      label: (
        <Dropdown menu={{ items: dropdownItemsSchedule }} placement="bottom">
          <Button icon={<DownOutlined />} iconPlacement="end" type="text">
            <Link to="/schedule">Schedule</Link>
          </Button>
        </Dropdown>
      ),
    },
    { key: "syllabus", label: <Link to="/syllabus">Syllabus</Link> },
    { key: "photo/video", label: <Link to="/photo-video">Photo and Video</Link> },
    { key: "teams", label: <Link to="/teams">Teams</Link> },
    { key: "contacts", label: <Link to="/contacts">Contacts</Link> },
  ];

  return (
    <>
      <Header className="header">
        <Flex justify='space-between' className='header-mobile'>
          <Link to="/" className='logo-wrapper'><img className="logo" src={logo} /></Link>
          <Button
            className="burger-btn"
            type="text"
            icon={<MenuOutlined />}
            onClick={() => setOpen(true)}
          />
        </Flex>
        <Menu
          className="custom-menu"
          mode="horizontal"
          items={items}
        />

        <Flex className="header-icons" gap="small">
          <Button type="text" icon={<PhoneFilled className='primary-orange-color' />}>
            +380967161448
          </Button>
          <Button type="text" icon={<VKIcon />} />
          <Button type="text" icon={<TelegramIcon />} />
        </Flex>

        <Button type="primary" className="custom-button">
          Sign up for a tour
        </Button>
      </Header>

      <Drawer
        open={open}
        onClose={() => setOpen(false)}
        placement="right"
        size="default"
        bodyStyle={{ padding: 0 }}
        getContainer={false}
        style={{ position: 'fixed' }}
      >
        <Menu mode="vertical" items={items} />
      </Drawer>
    </>
  );
};